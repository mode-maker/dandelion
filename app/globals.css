@tailwind base;
@tailwind components;
@tailwind utilities;

* { box-sizing: border-box; }

/* ===== Палитра (оставил твои переменные) ===== */
:root{
  --brand-top: #5F6F65;  /* верх */
  --brand-mid: #6E7E74;  /* середина, чуть светлее */
  --brand-bot: #5F6F65;  /* низ */
}

html, body { min-height: 100%; }

/* ===== Фон-слой под всем контентом =====
   Добавь <div class="site-bg" /> сразу внутри <body> в app/layout.js
   (см. ниже — ничего больше менять не нужно) */
.site-bg {
  position: fixed;
  inset: 0;
  z-index: -1;            /* уходит под весь контент */
  pointer-events: none;   /* не перехватывает клики */

  /* Мягкая зелёная подложка + два больших «пятна» */
  background-image:
    radial-gradient(1000px 700px at -10% -10%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(900px 650px at 110% 110%, rgba(0,0,0,.12), transparent 55%),
    linear-gradient(180deg, var(--brand-top) 0%, var(--brand-mid) 55%, var(--brand-bot) 120%);
  background-repeat: no-repeat;
  background-attachment: scroll;  /* безопасно для iOS/Safari */
  background-size: cover, cover, cover;
}

/* (необязательно) лёгкая «тканевая» текстура поверх фона */
.site-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  opacity: .07;             /* при необходимости ослабь/усиль */
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cdefs%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0.6'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3C/defs%3E%3Crect width='160' height='160' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 160px 160px;
}

/* Фоллбек-цвет (если по какой-то причине <div class="site-bg" /> не отрисуется) */
body{
  background: var(--brand-mid);
}

/* скрыть горизонтальный скроллбар у ленты карточек */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

html {
  scroll-behavior: smooth;
}
/* ==== Едва заметный паттерн «одуванчиков» ==== */
/* Лёгкий SVG-паттерн, мягко виден на зелёном фоне */
.bg-seeds {
  position: fixed;
  inset: 0;
  z-index: -1;           /* ниже всего контента (рядом с .site-bg) */
  pointer-events: none;  /* клики не перехватывает */
  opacity: .06;          /* интенсивность паттерна — можно ослабить до .04 */
  mix-blend-mode: soft-light; /* мягкое смешивание с твоим фоном */

  /* Тайловый SVG ( ~0.6KB ), белые полупрозрачные линии */
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160' fill='none'>\
  <g stroke='%23ffffff' stroke-opacity='.55' stroke-width='1'>\
    <!-- seed 1 -->\
    <path d='M36 90 q12 -22 34 -12'/>\
    <path d='M70 78 l10 -14'/>\
    <path d='M70 78 l-8 -6'/>\
    <!-- seed 2 -->\
    <path d='M116 34 q-10 22 12 32'/>\
    <path d='M128 66 l14 8'/>\
    <path d='M128 66 l-12 6'/>\
    <!-- seed 3 -->\
    <path d='M18 126 q26 -8 34 12'/>\
    <path d='M52 134 l10 12'/>\
    <path d='M52 134 l-8 12'/>\
  </g>\
</svg>");
  background-size: 320px 320px; /* масштаб клетки узора */
  background-repeat: repeat;
}

/* На очень узких экранах — чуть тише, чтобы не отвлекал */
@media (max-width: 640px) {
  .bg-seeds { opacity: .045; background-size: 280px 280px; }
}
