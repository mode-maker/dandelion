@tailwind base;
@tailwind components;
@tailwind utilities;

* { box-sizing: border-box; }

/* =========================
   T H E M E  V A R S
   ========================= */
:root{
  /* База (тёмный зелёный) */
  --bg-0: #1f2b26;
  --bg-1: #24332d;
  --bg-2: #2d3f37;

  /* Оттенки «северного сияния» */
  --aurora-1: #3a5a50; /* зелёный холодный */
  --aurora-2: #506f64; /* бирюзово-зелёный */
  --aurora-3: #6f8c85; /* светлый акцент */

  /* Настройки интенсивности/скорости – регулируй смело */
  --aurora-opacity: 0.25;   /* 0.15…0.35 — сила цветных пятен */
  --noise-opacity:  0.05;   /* 0…0.08 — зерно поверх */
  --vignette:       0.30;   /* 0.20…0.45 — виньетка снизу */
  --blob-size:      60vmax; /* размер «облаков» */
  --speed-1:        100s;    /* скорость 1-го облака */
  --speed-2:        130s;    /* скорость 2-го облака */
  --speed-3:        150s;    /* скорость 3-го облака */
}

/* Базовый тёмный градиент (задний слой) */
body{
  color:#ECEDE8;
  background:
    radial-gradient(1000px 700px at 50% 115%, rgba(0,0,0,var(--vignette)), transparent 60%),
    linear-gradient(180deg, var(--bg-2) 0%, var(--bg-1) 55%, var(--bg-0) 100%);
  background-attachment: scroll;
  background-repeat: no-repeat;
  min-height:100%;
}

/* ===== Анимированные «облака» Aurora =====
   Три большие, сильно размытые пятна на разных слоях. */
body::before{
  content:"";
  position:fixed; inset:-10vmax; z-index:-2; pointer-events:none;
  background:
    radial-gradient(var(--blob-size) var(--blob-size) at 15% 25%, rgba(106, 150, 135, var(--aurora-opacity)), transparent 60%),
    radial-gradient(calc(var(--blob-size) * 0.8) calc(var(--blob-size) * 0.8) at 85% 30%, rgba(80, 120, 105, var(--aurora-opacity)), transparent 60%),
    radial-gradient(calc(var(--blob-size) * 1.1) calc(var(--blob-size) * 1.1) at 40% 85%, rgba(60, 100, 90, var(--aurora-opacity)), transparent 60%);
  filter: blur(40px);
  animation:
    auroraMove1 var(--speed-1) linear infinite,
    auroraMove2 var(--speed-2) linear infinite reverse,
    auroraMove3 var(--speed-3) linear infinite;
  mix-blend-mode: screen; /* мягкое «свечение» */
  will-change: transform, filter;
}

/* Лёгкая «пылинка» (шум) поверх — делает фон живым */
body::after{
  content:"";
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  opacity: var(--noise-opacity);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cdefs%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='table' tableValues='0 0.6'/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3C/defs%3E%3Crect width='160' height='160' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size:160px 160px;
}

/* Ключевые кадры — плавные дрейфы */
@keyframes auroraMove1{
  0%   { transform: translate3d(0,    0,    0) rotate(0deg); }
  50%  { transform: translate3d(4vmax, -3vmax, 0) rotate(120deg); }
  100% { transform: translate3d(0,    0,    0) rotate(360deg); }
}
@keyframes auroraMove2{
  0%   { transform: translate3d(0,    0,    0) rotate(0deg)   scale(1); }
  50%  { transform: translate3d(-6vmax, 2vmax, 0) rotate(-140deg) scale(1.05); }
  100% { transform: translate3d(0,    0,    0) rotate(-360deg)  scale(1); }
}
@keyframes auroraMove3{
  0%   { transform: translate3d(0,    0,    0) rotate(0deg)   scale(1); }
  50%  { transform: translate3d(3vmax, 5vmax, 0) rotate(160deg)  scale(0.98); }
  100% { transform: translate3d(0,    0,    0) rotate(360deg)  scale(1); }
}

/* Уважение к «уменьшить движения» */
@media (prefers-reduced-motion: reduce){
  body::before{ animation: none; }
}

/* ===== Цветовые переменные (можно использовать дальше по проекту) ===== */
:root{
  --text-on-dark: #ECEDE8;   /* светлый текст по тёмному фону */
  --text-on-light: #2B2B2B;  /* тёмный текст по светлой карточке */
}

/* Если где-то body задаёт светлый цвет — ок, но в карточках ниже переопределим */
body { color: var(--text-on-dark); }

/* ===== Фикс: внутри светлых карточек делаем текст тёмным ===== */
/* Кремовые карточки: #EFE9DD */
[class*="bg-[#EFE9DD]"] {
  color: var(--text-on-light) !important;
}
[class*="bg-[#EFE9DD]"] h1,
[class*="bg-[#EFE9DD]"] h2,
[class*="bg-[#EFE9DD]"] h3 {
  color: var(--text-on-light) !important;
  /* лёгкая светлая тенюшка — как было визуально в макете */
  text-shadow: 0 1px 0 rgba(255,255,255,0.6);
}

/* Светло-серые карточки: #E7E8E0 (раздел «Готовые флорариумы», сертификат и т.п.) */
[class*="bg-[#E7E8E0]"] {
  color: var(--text-on-light) !important;
}
[class*="bg-[#E7E8E0]"] h1,
[class*="bg-[#E7E8E0]"] h2,
[class*="bg-[#E7E8E0]"] h3 {
  color: var(--text-on-light) !important;
  text-shadow: 0 1px 0 rgba(255,255,255,0.6);
}
